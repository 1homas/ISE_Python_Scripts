--
-- radius_accounting
--
-- ðŸ’¡ Un/Comment columns to quickly customize queries. Remember the last SELECT column must not end with a `,`.
--

SELECT
    * -- all columns
    -- TO_CHAR(timestamp, 'YYYY-MM-DD HH24:MI:SS') AS timestamp, -- drop fractional seconds
    -- TO_CHAR(timestamp_timezone, 'YYYY-MM-DD HH24:MI:SS') AS timestamp_timezone, -- drop fractional seconds
    -- id,
    -- access_service,
    -- acct_authentic,
    -- acct_delay_time, -- Length of time (in seconds) for which the NAS has been sending the same accounting packet
    -- acct_input_octets, -- Number of octets received during the session
    -- acct_input_packets, -- Number of packets received during the session
    -- acct_interim_interval, -- Number of seconds between each transmittal of an interim update for a specific session
    -- acct_multi_session_id,
    -- acct_output_octets, -- Number of octets sent during the session
    -- acct_output_packets, -- Number of octets sent during the session
    -- acct_session_id, -- Unique numeric string identifying the server session
    -- acct_session_time, -- Length of time (in seconds) for which the session has been logged in
    -- acct_status_type, -- Specifies whether accounting packet starts or stops a bridging, routing, or terminal server session.
    -- acct_terminate_cause, -- Reason a connection was terminated
    -- acct_tunnel_connection,
    -- acct_tunnel_packet_lost,
    -- ad_domain,
    -- audit_session_id,
    -- authorization_policy,
    -- calling_station_id,
    -- cisco_h323_connect_time,
    -- cisco_h323_disconnect_time,
    -- cisco_h323_setup_time,
    -- device_groups,
    -- device_name,
    -- event_timestamp, -- The date and time that this event occurred on the NAS
    -- failure_reason,
    -- framed_ip_address,
    -- framed_ipv6_address,
    -- framed_protocol,
    -- identity_group,
    -- identity_store,
    -- idle_timeout,
    -- ise_node,
    -- nas_identifier,
    -- nas_ip_address, -- The IP address of the NAS originating the request
    -- nas_ipv6_address,
    -- nas_port_id,
    -- nas_port, -- Physical port number of the NAS (Network Access Server) originating the request
    -- response_time,
    -- security_group,
    -- service_selection_policy,
    -- service_type,
    -- session_id,
    -- session_timeout,
    -- started,
    -- stopped,
    -- syslog_message_code,
    -- termination_action,
    -- user_type,
    -- username,
    -- vn
FROM radius_accounting
-- WHERE timestamp > '23-APR-22 08.25.35.839000000 PM' AND timestamp < '24-APR-22 08.25.35.839000000 PM'
-- WHERE TRUNC(timestamp) = TRUNC(SYSDATE) -- today
-- WHERE TRUNC(timestamp, 'HH24') = TRUNC(SYSDATE, 'HH24') -- sessions this hour
-- WHERE TRUNC(timestamp, 'MI') = TRUNC(SYSDATE, 'MI') -- sessions this minute
-- WHERE timestamp_timezone > '23-APR-22 08.25.35.839000000 PM +05:30' AND timestamp_timezone < '24-APR-22 08.25.35.839000000 PM +05:30'
ORDER BY timestamp ASC -- first/oldest records
-- ORDER BY timestamp DESC -- most recent records
FETCH FIRST 10 ROWS ONLY -- limit default number of rows returned for large datasets
